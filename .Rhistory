source("~/volumetric desity estimation/R/dev/volume_estimation/volume_estimation_pelagicam_2023.R")
source("~/volumetric desity estimation/R/dev/volume_estimation/volume_estimation_pelagicam_2023.R")
source("~/volumetric desity estimation/R/dev/detection_function/detection_param_estimation_pollock.R")
rm(list = ls())
library(likelihoodExplore)
library(tidyverse)
library(optimx)
targets<-read.csv("detection_function/targets.csv",header=TRUE)
targets=targets %>% filter(SPECIES_GROUP=="Adult_pollock")
targets$RANGE=targets$RANGE/100# change units from cm to m
load("volume_detection/pelagicam_2023_vol.RData")# this is our specific camera volume data, including the volume function
load("volume_estimation/pelagicam_2023_vol.RData")# this is our specific camera volume data, including the volume function
source("~/volumetric desity estimation/R/dev/detection_function/detection_param_estimation_pollock.R")
source("~/volumetric desity estimation/R/dev/detection_function/detection_param_estimation_pollock.R")
source("~/volumetric desity estimation/R/dev/detection_function/detection_param_estimation_pollock.R")
source("~/volumetric desity estimation/R/dev/detection_function/detection_param_estimation_pollock.R")
source("~/volumetric desity estimation/R/dev/detection_function/detection_param_estimation_pollock.R")
out$p1
out=opm(par=c(800,4,-2), fn=detect_single_logistic, gr = NULL, vol=vol,
rng=bin_mids,fishcount=bin_counts,method="Nelder-Mead")
out=opm(par=c(500,4,-2), fn=detect_single_logistic, gr = NULL, vol=vol,
rng=bin_mids,fishcount=bin_counts,method="Nelder-Mead")
source("G:/specimen_data_weighting/R/new_approach_2023/single_survey_test_ML_rev_03142025_maturity_only_R3.R")
targets<-read.csv("detection_function/targets.csv",header=TRUE)
View(targets)
View(targets)
targets<-read.csv("detection_function/targets.csv",header=TRUE)
targets=targets %>% filter(SPECIES_GROUP=="Adult_pollock")
library(tidyverse)
targets=targets %>% filter(SPECIES_GROUP=="Adult_pollock")
count_targets=targets %>% group_by(FRAME_NUMBER) %>% summarise(COUNT=n())
View(count_targets)
targets<-read.csv("detection_function/targets.csv",header=TRUE)
targets=targets %>% filter(SPECIES_GROUP=="Adult_pollock")
count_targets=targets %>% group_by(FRAME_NUMBER) %>% summarise(COUNT=n())
hist(count_targets$COUNT)
source("C:/Users/kresimir.williams/Work/volumetric desity estimation/stereocamera_volumetric_density/detection_function/detection_param_estimation_pollock_full_run_though.R")
source("C:/Users/kresimir.williams/Work/volumetric desity estimation/stereocamera_volumetric_density/detection_function/detection_param_estimation_pollock_full_run_though.R")
View(count_targets)
summary(count_targets)
all_frames=seq(min(count_targets$FRAME_NUMBER),max(count_targets$FRAME_NUMBER))
empty_frames=setdiff(all_frames,count_targets$FRAME_NUMBER)
empty_frames=data.frame("FRAME_NUMBER"=setdiff(all_frames,count_targets$FRAME_NUMBER))
empty_frames$COUNT=0
empty_frames$DENSITY=0
count_targets=rbind(count_targets,empty_frames)
summary(count_targets)
